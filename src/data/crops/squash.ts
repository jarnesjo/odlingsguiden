import type { Crop } from '../types'

export const squash: Crop = {
  name: 'Squash',
  icon: 'squash',
  family: 'Gurkväxter',
  familyLatin: 'Cucurbitaceae',
  difficulty: 'Enkel',
  difficultyWhy: 'Växter sig stor och stark utan mycket hjälp. Ger enorma skördar - problemet är snarare att hänga med och skörda i tid.',
  zones: { outdoor: [1, 2, 3, 4, 5], indoor: null, greenhouse: [1, 2, 3, 4, 5, 6] },
  days: '50-65',
  spacing: '80-100 cm',
  rowSpacing: '120-150 cm',
  depth: '2-3 cm',
  ph: { min: 5.8, max: 7.0, ideal: 6.5 },
  optimalConditions: {
    sun: { level: 'Full sol', icon: 'sun', detail: 'Minst 8 timmar sol per dag. Squash vill ha det varmt och ljust - i skugga blir plantan lång och ranglig med få frukter.' },
    temperature: { min: 10, max: 35, ideal: '20-28°C', detail: 'Värmekrävande! Sätts inte ut förrän jorden är minst 15°C och nattfrosten är över. Fryser ihjäl vid minsta frost.' },
    wind: { level: 'Skyddat', detail: 'De stora bladen fungerar som segel - en blåsig plats sliter på plantan. Sätt den intill en vägg eller häck om möjligt.' },
  },
  watering: {
    need: 'Hög',
    icon: 'water',
    summary: 'Squash är en törstig planta med enorma blad som avdunstar massor av vatten. Under högsäsong kan hon behöva vatten varje dag.',
    phases: [
      { phase: 'Etablering (0-3 veckor)', need: 'Medel', tip: 'Vattna vid plantering och håll jorden fuktig men inte blöt. Låt rötterna etablera sig i lugn och ro.' },
      { phase: 'Tillväxt (3-6 veckor)', need: 'Hög', tip: 'Nu börjar det på allvar! Plantan växer explosionsartat och behöver massor av vatten. Djupvattna 2-3 gånger i veckan.' },
      { phase: 'Blomning (6-8 veckor)', need: 'Hög', tip: 'Kritisk period - utan vatten faller blommorna av. Vattna vid roten, aldrig på bladen. Tidigt på morgonen är bäst.' },
      { phase: 'Fruktsättning (8+ veckor)', need: 'Hög', tip: 'Varje frukt är mestadels vatten - plantan behöver enorma mängder nu. I hetta kan du behöva vattna varje dag.' },
    ],
    mistakes: [
      'Vattnar på bladen istället för vid roten - bjuder in mjöldagg',
      'Vattnar lite och ofta istället för ordentligt och djupt',
      'Glömmer att squashplantor under fruktsättning kan behöva vatten VARJE dag i värme',
    ],
    tip: 'Gräv ner en kruka eller PET-flaska med hål intill plantan och fyll med vatten - det rinner rakt ner till rötterna utan att blöta bladen.',
  },
  soil: 'Näringsrik, humusrik jord som håller fukt men inte står blöt. Squash är en av de mest näringshungriga grödorna du kan odla.',
  soilTips: [
    'Gräv ner en rejäl laddning kompost eller brunnen gödsel innan plantering - minst en skottkärra per 2-3 plantor',
    'Odla gärna direkt på komposthögen - squash ÄLSKAR det',
    'Mulcha runt plantan med gräsklipp eller halm för att hålla fukten och hålla frukterna rena',
  ],
  timeline: {
    1: [
      { phase: 'Förodla inomhus', months: 'Apr', icon: 'seedling' },
      { phase: 'Plantera ut', months: 'Maj', icon: 'plant' },
      { phase: 'Blomning', months: 'Jun-Jul', icon: 'flower' },
      { phase: 'Skörd', months: 'Jul-Sep', icon: 'harvest' },
    ],
    4: [
      { phase: 'Förodla inomhus', months: 'Apr-Maj', icon: 'seedling' },
      { phase: 'Plantera ut', months: 'Jun', icon: 'plant' },
      { phase: 'Blomning', months: 'Jul', icon: 'flower' },
      { phase: 'Skörd', months: 'Aug-Sep', icon: 'harvest' },
    ],
    6: [
      { phase: 'Förodla inomhus', months: 'Maj', icon: 'seedling' },
      { phase: 'Plantera ut (växthus)', months: 'Jun', icon: 'plant' },
      { phase: 'Blomning', months: 'Jul-Aug', icon: 'flower' },
      { phase: 'Skörd', months: 'Aug-Sep', icon: 'harvest' },
    ],
  },
  nutritionData: [
    { month: 'Maj', N: 30, P: 20, K: 15, label: 'Etablering' },
    { month: 'Jun', N: 70, P: 35, K: 25, label: 'Tillväxt' },
    { month: 'Jul', N: 80, P: 60, K: 45, label: 'Blomning' },
    { month: 'Aug', N: 50, P: 75, K: 70, label: 'Fruktsättning' },
    { month: 'Sep', N: 20, P: 50, K: 60, label: 'Mognad' },
  ],
  nutritionTips: [
    { timing: 'Vid plantering', tip: 'Grundgödsla rejält med brunnen kompost eller hästgödsel. Gräv ner det 30 cm djupt.' },
    { timing: 'Under tillväxt', tip: 'Ge flytande gödsel (brännässelvatten, alggödsel) varannan vecka. Squash är en storätare.' },
    { timing: 'Under blomning', tip: 'Byt till fosfor- och kaliumrik gödsel. Benmjöl och vedaska stärker blomning och fruktsättning.' },
    { timing: 'Sen säsong', tip: 'Trappa ner gödslingen i augusti. Plantan ska fokusera på att mogna befintliga frukter, inte sätta nya.' },
  ],
  companions: {
    good: [
      { id: 'artor', name: 'Ärtor', icon: 'vegetable', why: 'Ärtornas kvävefixering ger squashen det kväve hon är så hungrig efter' },
      { id: 'bondbona', name: 'Bondböna', icon: 'vegetable', why: 'Samma sak som ärtor - baljväxter fixar kväve som squash älskar' },
      { name: 'Majs', icon: 'vegetable', why: 'Klassiska "Three Sisters" - majsen ger stöd, squashen skuggar marken' },
      { id: 'radisa', name: 'Rädisa', icon: 'vegetable', why: 'Snabb mellanskörd innan squashen tar över all plats' },
    ],
    bad: [
      { id: 'potatis', name: 'Potatis', icon: 'potatis', why: 'Konkurrerar om samma näringsämnen och utrymme - båda är storväxare' },
      { id: 'gurka', name: 'Gurka', icon: 'vegetable', why: 'Samma familj - delar sjukdomar som mjöldagg och kan korspollera' },
      { id: 'pumpa', name: 'Pumpa', icon: 'vegetable', why: 'Samma familj - delar alla sjukdomar och lockar samma skadedjur' },
    ],
  },
  rotation: {
    avoid: [{ id: 'gurka', name: 'Gurka' }, { id: 'pumpa', name: 'Pumpa' }, { id: 'melon', name: 'Melon' }],
    avoidWhy: 'Alla gurkväxter delar sjukdomar som mjöldagg och visnesjuka. Vänta minst 3 år innan du odlar gurkväxter på samma plats.',
    goodBefore: [{ id: 'artor', name: 'Ärtor' }, { id: 'bondbona', name: 'Bondböna' }, { name: 'Gröngödsling' }],
    goodBeforeWhy: 'Baljväxter och gröngödsling bygger upp kväveförrådet som squash sedan suger ur.',
    goodAfter: [{ id: 'lok', name: 'Lök' }, { id: 'morot', name: 'Morot' }, { id: 'radisa', name: 'Rädisa' }],
    goodAfterWhy: 'Lättfödda rotgrönsaker trivs efter squash som har luckrat och gödslat jorden ordentligt.',
  },
  varieties: [
    { name: 'Black Beauty', zones: [1, 2, 3, 4, 5], note: 'Klassisk mörkgrön zucchini. Tidig, pålitlig och otroligt produktiv.' },
    { name: 'Gold Rush', zones: [1, 2, 3, 4, 5], note: 'Gul zucchini - lika produktiv som gröna, men vackrare på tallriken.' },
    { name: 'Ronde de Nice', zones: [1, 2, 3, 4], note: 'Rund, ljusgrön, perfekt att fylla och gratinera. Fransk charm.' },
    { name: 'Vegetable Spaghetti', zones: [1, 2, 3, 4, 5], note: 'Spagettisquash - köttet blir som spaghetti när man kokar den. Rolig överraskning!' },
    { name: 'Butternut Waltham', zones: [1, 2, 3, 4], note: 'Vintersquash - lagras i månader. Söt, nötig smak. Behöver lång säsong.' },
  ],
  problems: [
    { name: 'Mjöldagg', symptom: 'Vitt, pudrigt belägg på bladen, börjar ofta sent i säsongen', fix: 'Vattna vid roten, aldrig på bladen. God luftcirkulation. Drabbade blad kan klippas bort - plantan överlever det.' },
    { name: 'Frukten ruttnar', symptom: 'Unga frukter gulnar och ruttnar i ena änden', fix: 'Blomänderöta - orsakas av kalciumbrist (ofta pga ojämn vattning). Vattna jämnt och mulcha. Inte kalcium som saknas utan vatten som transporterar det.' },
    { name: 'Dålig pollinering', symptom: 'Frukten börjar växa men torkar in och faller av', fix: 'Handpollera med en mjuk pensel - för pollen från hanblomman (lång rak stjälk) till honblomman (liten frukt vid basen). Gör det tidigt på morgonen.' },
    { name: 'Sniglar', symptom: 'Stora hål i blad och frukter, slemspår', fix: 'Snigelkorn (järnfosfat), ölsaxar, eller kopparhinder runt plantorna. Vattna på morgonen så att marken hinner torka.' },
  ],
  goodToKnow: [
    { icon: 'warning', title: 'Skörda LITEN - max 20 cm', text: 'En zucchini på 20 cm är perfekt. Lämnar du den i tre dagar har du en basebollträ. Stor squash blir vattnig, trögig och smaklös. Skörda ofta och tidigt!', severity: 'warning' },
    { icon: 'harvest', title: 'Omöjliga skördar', text: 'En enda squashplanta kan ge 5-10 kg under en säsong. Plantera inte för många om du inte har grannar att ge till. Två plantor räcker för en familj.', severity: 'tip' },
    { icon: 'flower', title: 'Blommorna är ätbara', text: 'Hanblommorna (de utan liten frukt vid basen) kan plockas, fyllas med ricotta och friteras. Italiensk delikatess direkt från din odling!', severity: 'tip' },
    { icon: 'warning', title: 'Frostskydd', text: 'Squash dör vid minsta frost. Plantera inte ut förrän nätterna håller sig över 10°C. Ha alltid fiberduk redo i juni - kalla nätter kan komma.', severity: 'warning' },
    { icon: 'leaf', title: 'Vintersquash lagras i MÅNADER', text: 'Butternut och andra vintersquash lagras i 3-6 månader i rumstemperatur. Härda dem i solen en vecka efter skörd - det förlänger hållbarheten rejält.', severity: 'tip' },
  ],
  sowing: {
    method: 'both',
    label: 'Direktsådd eller förodling',
    description: 'Förodling inomhus rekommenderas i de flesta zoner - squash behöver värme och en lång säsong. I zon 1-2 kan du direktså utomhus från juni.',
    steps: [
      'Så 2-3 frön per kruka, 2-3 cm djupt, i stor kruka (minst 8 cm)',
      'Håll varmt (20-25°C) - fröna gror på 5-7 dagar',
      'Gallra till en planta per kruka när de fått första riktiga bladen',
      'Härda av i en vecka genom att ställa ut dagtid, in på natten',
      'Plantera ut när natttemperaturen håller sig över 10°C',
      'Plantera med god marginal - minst 80 cm mellan plantorna',
      'Vattna ordentligt vid plantering och mulcha runt plantan',
    ],
    tips: [
      'Så inte för tidigt inomhus - squashplantor växer fort och blir långa och rangliga i fönstret. 3-4 veckor räcker.',
      'Direktsådd fungerar i zon 1-2 från juni, men förodling ger alltid försprång',
      'Odla gärna i en "squashkulle" - höjd bädd med kompost undertill som ger extra värme och näring',
    ],
    indoorWeeks: '3-4 veckor',
  },
  seedSaving: {
    difficulty: 'Medel',
    type: 'Korspollinerare',
    biennial: false,
    description: 'Squash korspolleras av insekter inom samma art. Om du odlar flera sorter av samma art (C. pepo) kommer de korsa sig.',
    steps: [
      'Välj en fin, typisk frukt från den starkaste plantan',
      'Låt frukten ligga kvar på plantan tills den är helt mogen (hård, gulnad zucchini, orange butternut)',
      'Skär upp och skrapa ut fröna med en sked',
      'Lägg fröna i en skål med vatten - de som sjunker är bra, de som flyter är tomma',
      'Skölj och torka fröna på tidningspapper i 1-2 veckor',
      'Förvara torrt och svalt i papperspåse',
    ],
    isolation: 'Korspollinerare via insekter. Odla bara en sort per art (C. pepo, C. moschata, C. maxima) för rent frö, eller handpollera och tejpa igen blommorna.',
    storageYears: '4-6 år',
    tip: 'Squashfrön håller sig länge! Men dubbelkolla att du inte har F1-hybrider - deras frön ger oförutsägbara resultat.',
  },
  storage: {
    shelfLife: '1-6 månader (beroende på typ)',
    methods: [
      { method: 'Färsk i kylskåp (zucchini)', icon: 'snowflake', duration: '1-2 veckor', description: 'Zucchini och sommarsquash förvaras i plastpåse med hål i kylskåpet. Ät inom en vecka för bäst smak och konsistens.', best: true },
      { method: 'Rumstemperatur (vintersquash)', icon: 'storage', duration: '3-6 månader', description: 'Butternut, spagetti och andra vintersquash lagras i rumstemperatur (15-20°C) på en torr plats. Härda i solen en vecka först.', best: false },
      { method: 'Frysa', icon: 'snowflake', duration: '8-12 månader', description: 'Skär i skivor/tärningar, blanchera 2 minuter, kyl och frys. Fungerar bra i soppor och grytor. Konsistensen ändras - inte för sallad.', best: false },
      { method: 'Riva och frysa', icon: 'snowflake', duration: '6-8 månader', description: 'Riv rå zucchini och frys i portionspåsar. Perfekt för plättar, bröd och gratänger. Inget behov av blanchering.', best: false },
    ],
    tips: [
      'Zucchini har kort hållbarhet - ät den inom en vecka',
      'Vintersquash ska härdas i solen 7-10 dagar efter skörd - det gör skalet hårdare och förlänger lagringstiden',
      'Förvara aldrig vintersquash i kylskåp - kylan ger svampangrepp',
      'Den enorma zucchinin du glömde i landet kan rivas och frysas - den blir utmärkt till plättar och bröd',
    ],
  },
  harvestCalc: { minPerSqm: 2.0, maxPerSqm: 5.0, unit: 'kg' },
}
