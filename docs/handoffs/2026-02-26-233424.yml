meta:
  date: 2026-02-26
  author: claude
  phase: "Fas 1 – Grund"
  status: aktiv
  session_notes: |
    Session 5. Planering av grafisk profil — ersätta alla emojis med custom SVG.
    Användaren vill ha professionell, ren design utan emojis — all grafik egengjord.
    Utforskade hela kodbasen: hittade ~50+ emoji-förekomster i data och komponenter.
    Konstaterade att 11 befintliga SVG-ikoner + 4 illustrationer ALDRIG används.
    Skrev detaljerad 9-stegs implementationsplan (docs/plans/1.3-grafisk-profil.yml).
    Beslutade namnkonvention för planfiler: {fas}.{steg}-slug.yml
    Grafisk profil blir roadmap-steg 1.3, övriga steg flyttas fram.
    Noterade användarens preferens i memory: inga emojis, professionellt och rent.

tech_stack:
  current:
    - Vite 7.3 (build)
    - React 19 (hooks, JSX)
    - TypeScript (strict mode)
    - Recharts 3.7 (NutritionChart)
    - "@fontsource/fraunces + @fontsource/lora (self-hosted)"
    - CSS Modules + CSS custom properties
  planned:
    app: "React Native + Expo (framtida, betald version)"

structure:
  src:
    - src/components/icons/index.tsx (11 SVG-ikoner, OANVÄNDA)
    - src/components/illustrations/ (4 illustrationer, OANVÄNDA)
    - src/theme/tokens.ts (komplett designsystem)
    - src/theme/global.css (CSS custom properties)
    - src/data/types.ts (typdefinitioner)
    - src/data/crops/*.ts (5 grödfiler med emoji)
    - src/components/pages/ (CropList, CropPage, ZoneSelector)
    - src/components/crop/ (18 sektionskomponenter)
    - src/components/ui/ (Section, DifficultyBadge, ZoneBadge m.fl.)
  docs:
    - docs/plans/1.3-grafisk-profil.yml (NY, 9-stegs plan)
    - docs/ROADMAP.md
    - docs/PROMPT-designsystem.md
    - docs/PROMPT-svg-illustrationer.md

database: null
api_endpoints: null

commands:
  - "npm run dev    # Starta Vite dev server"
  - "npm run build  # Bygger till dist/"
  - "npx tsc --noEmit  # Typkontroll utan output"

next_steps:
  - "Implementera grafisk profil-planen (docs/plans/1.3-grafisk-profil.yml)"
  - "  Steg 0: Regler i CLAUDE.md + roadmap-uppdatering + döp om planfil"
  - "  Steg 1: Skapa Icon-registry (Icon.tsx) + CropGraphic.tsx"
  - "  Steg 2: Skapa ~20 nya SVG-ikoner"
  - "  Steg 3: Skapa PotatoIllustration"
  - "  Steg 4-5: Uppdatera types.ts + alla datafiler (emoji → semantiska ID)"
  - "  Steg 6-8: Uppdatera Section + alla komponenter"
  - "  Steg 9: Slutverifiering"

context:
  decisions:
    - "INGA EMOJIS i appen — all grafik ska vara egengjord custom SVG, professionellt och rent"
    - "Icon-registry pattern: data lagrar semantiska string-ID, en central Icon-komponent mappar till SVG"
    - "CropGraphic-komponent: mappar crop-ID till illustration (200x200) eller ikon (48x48) med fallback"
    - "Grafisk profil prioriteras före korsreferenser — visuell känsla först"
    - "Planfil-namnkonvention: {fas}.{steg}-slug.yml mappar mot roadmap"
    - "Grafisk profil blir roadmap 1.3, korsreferenser flyttas till 1.4 osv."
  constraints:
    - "Aldrig unicode-emojis i data eller UI"
    - "Alla ikoner: 1.8px stroke, round caps, 24x24, monokrom, subtil fill (0.12-0.20 opacity)"
    - "Illustrationer: 200x200 detaljerad + 48x48 lista, stroke-baserad, botaniskt korrekt"
    - "All text på svenska, kompis-ton"

known_issues:
  - "Potatis saknar illustration (ska skapas i steg 3)"
  - "Bundle size varning (>500KB) pga Recharts"
  - "Inga korsreferenser ännu (roadmap 1.4, efter grafisk profil)"
  - "11 SVG-ikoner + 4 illustrationer finns men används inte i appen"
  - "Befintlig planfil 1-vite-react-ts-migration.yml behöver döpas om till 1.2-..."
