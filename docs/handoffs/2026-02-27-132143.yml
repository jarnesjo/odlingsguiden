meta:
  date: 2026-02-27
  author: claude
  phase: "Fas 1: Grund"
  status: aktiv
  session_notes: |
    Session 11. Massiv profil-session - 11 nya grödprofiler skapade.

    Gjort:
    - Committade SVG path-buggfixar (SymbolSprout, CarrotIllustration)
    - Batch 1: Ärtor, Squash, Sallat (datafil + SVG + registrering)
    - Fix: RotationSection fallback-ikon for items utan id
    - Ny kategori 'blommor' (hidden i UI) med 6 vanliga nyttoväxter
    - Id:n tillagda på Ringblomma/Solros i befintliga profiler
    - Batch 2 (parallella agenter): Lök, Grönkål, Rädisa, Bondböna
    - Batch 3 (parallella agenter): Jordgubbar, Svarta vinbär, Persilja, Dill
    - Roadmap 1.7 markerad som klar

    Commits (19 st):
    - fix(ui): use Q instead of C for 2-point SVG curves
    - docs(plans): add implementation plan for 1.7 fler profiler
    - feat(crops): add pea crop profile with SVG illustration
    - feat(crops): add squash crop profile with SVG illustration
    - feat(crops): add lettuce crop profile with SVG illustration
    - feat(ui): register pea, squash and lettuce profiles
    - fix(ui): show fallback vegetable icon for rotation items without id
    - feat(data): add flower category with common companion flowers
    - refactor(data): add ids to flower references in crop profiles
    - feat(crops): add onion crop profile with SVG illustration
    - feat(crops): add kale crop profile with SVG illustration
    - feat(crops): add radish crop profile with SVG illustration
    - feat(crops): add fava bean crop profile with SVG illustration
    - feat(ui): register onion, kale, radish and fava bean profiles
    - feat(crops): add strawberry crop profile with SVG illustration
    - feat(crops): add blackcurrant crop profile with SVG illustration
    - feat(crops): add parsley crop profile with SVG illustration
    - feat(crops): add dill crop profile with SVG illustration
    - feat(ui): register strawberry, blackcurrant, parsley and dill profiles

tech_stack:
  current:
    - Vite 7.3 (build)
    - React 19 (hooks, JSX)
    - TypeScript 5.9 (strict mode)
    - Recharts 3.7 (NutritionChart)
    - "@fontsource/fraunces + @fontsource/lora (self-hosted)"
    - CSS Modules + CSS custom properties
  planned:
    app: "React Native + Expo (framtida, betald version)"

structure:
  docs:
    - docs/ROADMAP.md
    - docs/guides/ny-groda.md
    - docs/guides/designsystem.md
    - docs/guides/svg-illustrationer.md
    - docs/plans/1.7-fler-profiler.yml (klar)
    - docs/handoffs/
  src:
    - src/data/types.ts (Category inkluderar nu 'blommor')
    - src/data/categories.ts (blommor hidden)
    - src/data/cropUtils.ts
    - "src/data/crops/index.ts (76 entries, 16 profiler, 6 blommor)"
    - "src/data/crops/*.ts (16 profiler)"
    - src/components/illustrations/CropGraphic.tsx (16 illustrationer)
    - "src/components/illustrations/*Illustration.tsx (16 st)"
    - src/components/icons/index.tsx (36+ ikoner)

database: null
api_endpoints: null

commands:
  - "npm run dev    # Starta Vite dev server"
  - "npm run build  # Bygger till dist/"
  - "npx tsc --noEmit  # Typkontroll utan output"

next_steps:
  - "Visuell granskning av alla 11 nya profiler i dev server"
  - "Faktagranska odlingszoner och sorter"
  - "1.5 Säsongsvy v1 - månadsbaserad startskärm"
  - "1.6 Frukt som fjärde kategori"
  - "2.1 Fler profiler -> 30+ (nästa fas)"

context:
  decisions:
    - "Parallella agenter (4 st) for att skapa profiler - sparar context och tid"
    - "Blommor som hidden kategori - finns i data men visas inte i UI-toggle"
    - "RotationSection fallback-ikon baserat på category for items utan CROP_LIST-match"
    - "6 vanliga nyttoväxter (ringblomma, solros, tagetes m.fl.) i CROP_LIST for ikonmatchning"
  constraints:
    - "Aldrig unicode-emojis i data eller UI"
    - "Aldrig en-dash i källkod"
    - "All text på svenska, kompis-ton"
    - "SVG: 1.8px stroke, round caps, 24x24 ikoner, dämpade färger"
    - "Q istället for C i SVG paths med bara 2 koordinatpar"

known_issues:
  - "Odlingszonerna behöver faktagranskas"
  - "Bundle size >500KB pga Recharts"
  - "Nya profiler behöver visuell granskning i dev server"
  - "Korsreferenser mellan nya profiler kan behöva dubbelkollas"
